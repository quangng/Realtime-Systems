<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>phaser: Audio.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">phaser
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Audio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for using the BeagleBoard audio hardware.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
</div>
<p><a href="Audio_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Audio_8h.html#a1eb1013d9713b1bda25fc6e7e15cfe5d">InitAudio</a> (int frequency)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the audio hardware.  <a href="#a1eb1013d9713b1bda25fc6e7e15cfe5d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Audio_8h.html#ae9f5123842d0de9c850e2c4a0e0e5fb7">IsAudioReadyToRead</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there are any samples available to read in the receive buffer.  <a href="#ae9f5123842d0de9c850e2c4a0e0e5fb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Audio_8h.html#aeb4d5d24c41c6a7e775e20bd9231fb1e">IsAudioReadyToWrite</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is space to write samples to the transmit buffer.  <a href="#aeb4d5d24c41c6a7e775e20bd9231fb1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Audio_8h.html#a9420dc01c5a18ed66ee70ee732dac6f2">ReadAudioBuffer</a> (int32_t *buffer, int numsamples)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read as many samples from the audio buffer as are available.  <a href="#a9420dc01c5a18ed66ee70ee732dac6f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Audio_8h.html#a36ea53f4ac4f49d1de2830039b314270">ReadFullAudioBuffer</a> (int32_t *buffer, int numsamples)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a given number of samples from the audio buffer, blocking if enough samples are not yet available.  <a href="#a36ea53f4ac4f49d1de2830039b314270"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Audio_8h.html#ad57cdf2650234b73288f26b829d12e38">WriteAudioBuffer</a> (int32_t *buffer, int numsamples)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a given number of samples to the audio output buffer, blocking if there is not enough space in the buffer for all samples.  <a href="#ad57cdf2650234b73288f26b829d12e38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Audio_8h.html#a380d3bbbdf43ed8b0b3c6562650a5052">DiscardAudioInput</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard pending samples in the audio input buffer, clearing the buffer.  <a href="#a380d3bbbdf43ed8b0b3c6562650a5052"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Functions for using the BeagleBoard audio hardware. </p>
<p>There are functions for reading and writing samples in stereo at 44.1 kHz. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a380d3bbbdf43ed8b0b3c6562650a5052"></a><!-- doxytag: member="Audio.h::DiscardAudioInput" ref="a380d3bbbdf43ed8b0b3c6562650a5052" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="Audio_8h.html#a380d3bbbdf43ed8b0b3c6562650a5052">DiscardAudioInput</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Discard pending samples in the audio input buffer, clearing the buffer. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Timing: Does not use external buses. </dd></dl>

</div>
</div>
<a class="anchor" id="a1eb1013d9713b1bda25fc6e7e15cfe5d"></a><!-- doxytag: member="Audio.h::InitAudio" ref="a1eb1013d9713b1bda25fc6e7e15cfe5d" args="(int frequency)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="Audio_8h.html#a1eb1013d9713b1bda25fc6e7e15cfe5d">InitAudio</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frequency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the audio hardware. </p>
<p>The hardware is configured to send and receive audio data at the given frequency in 16 bit stereo.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The sample rate to use, in Hz. Valid values are 8000, 11025, 12000, 16000, 22050, 24000, 32000, 44100, 48000 and 96000.</td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Timing: Does 24 single-byte I2C transfers. Exact bus speed unknown, but slow. </dd></dl>

</div>
</div>
<a class="anchor" id="ae9f5123842d0de9c850e2c4a0e0e5fb7"></a><!-- doxytag: member="Audio.h::IsAudioReadyToRead" ref="ae9f5123842d0de9c850e2c4a0e0e5fb7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="Audio_8h.html#ae9f5123842d0de9c850e2c4a0e0e5fb7">IsAudioReadyToRead</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if there are any samples available to read in the receive buffer. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if there are at least two samples available in the buffer.</dd></dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Timing: Does not use external buses. </dd></dl>

</div>
</div>
<a class="anchor" id="aeb4d5d24c41c6a7e775e20bd9231fb1e"></a><!-- doxytag: member="Audio.h::IsAudioReadyToWrite" ref="aeb4d5d24c41c6a7e775e20bd9231fb1e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="Audio_8h.html#aeb4d5d24c41c6a7e775e20bd9231fb1e">IsAudioReadyToWrite</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if there is space to write samples to the transmit buffer. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if there is space for at least two samples available in the buffer.</dd></dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Timing: Does not use external buses. </dd></dl>

</div>
</div>
<a class="anchor" id="a9420dc01c5a18ed66ee70ee732dac6f2"></a><!-- doxytag: member="Audio.h::ReadAudioBuffer" ref="a9420dc01c5a18ed66ee70ee732dac6f2" args="(int32_t *buffer, int numsamples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="Audio_8h.html#a9420dc01c5a18ed66ee70ee732dac6f2">ReadAudioBuffer</a> </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numsamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read as many samples from the audio buffer as are available. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>A pointer to a buffer of 32-bit signed integers that will contain the received samples. Samples from the left and right channels will be interleaved in the buffer. Values are between -32768 and 32767. </td></tr>
    <tr><td class="paramname">numsamples</td><td>The size of the buffer in number of samples. The function will only read this many samples at most from the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The actual number of samples read. If there are not enough samples available in the buffer, this value will be less than numsamples, and the remaining places in the sample buffer will be undefined.</dd></dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Timing: Does not use external buses. </dd></dl>

</div>
</div>
<a class="anchor" id="a36ea53f4ac4f49d1de2830039b314270"></a><!-- doxytag: member="Audio.h::ReadFullAudioBuffer" ref="a36ea53f4ac4f49d1de2830039b314270" args="(int32_t *buffer, int numsamples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="Audio_8h.html#a36ea53f4ac4f49d1de2830039b314270">ReadFullAudioBuffer</a> </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numsamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a given number of samples from the audio buffer, blocking if enough samples are not yet available. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>A pointer to a buffer of 32-bit signed integers that will contain the received samples. Samples from the left and right channels will be interleaved in the buffer. Values are between -32768 and 32767. </td></tr>
    <tr><td class="paramname">numsamples</td><td>The size of the buffer in number of samples. The function will always read this many samples.</td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Timing: Blocks until enough samples have been received to fill the given buffer. Samples arrive at rate of two every 1/44100 seconds. Returns quickly if the requested number of samples are already available in the buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="ad57cdf2650234b73288f26b829d12e38"></a><!-- doxytag: member="Audio.h::WriteAudioBuffer" ref="ad57cdf2650234b73288f26b829d12e38" args="(int32_t *buffer, int numsamples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="Audio_8h.html#ad57cdf2650234b73288f26b829d12e38">WriteAudioBuffer</a> </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numsamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a given number of samples to the audio output buffer, blocking if there is not enough space in the buffer for all samples. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>A pointer to a buffer of 32-bit signed integers that contain the samples to be sent. Samples for the left and right channels should be interleaved in the buffer. Values are between -32768 and 32767. </td></tr>
    <tr><td class="paramname">numsamples</td><td>The size of the buffer in number of samples. The function will always write this many samples.</td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Timing: Blocks if the audio output buffer does not have space for all samples, waiting for buffered samples to be transmitted. Samples are transmitted at rate of two every 1/44100 seconds. Returns quickly if the buffer has enough space for all samples. </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 9 2012 18:20:39 for phaser by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
