#include "Utils.h"

static uint32_t state1=1234567890,state2=987654321,state3=1010101010;

uint32_t Random()
{
	state1=((state1&4294967294)<<12)^(((state1<<13)^state1)>>19);
	state2=((state2&4294967288)<<4)^(((state2<<2)^state2)>>25);
	state3=((state3&4294967280)<<17)^(((state3<<3)^state3)>>11);
	return state1^state2^state3;
}

int32_t isin(int a)
{
	const static uint16_t table[1025]=
	{
		0*2,50*2,100*2,150*2,200*2,250*2,300*2,350*2,
		401*2,451*2,501*2,551*2,601*2,651*2,701*2,751*2,
		801*2,852*2,902*2,952*2,1002*2,1052*2,1102*2,1152*2,
		1202*2,1252*2,1302*2,1353*2,1403*2,1453*2,1503*2,1553*2,
		1603*2,1653*2,1703*2,1753*2,1803*2,1853*2,1903*2,1953*2,
		2003*2,2053*2,2103*2,2153*2,2203*2,2253*2,2303*2,2353*2,
		2403*2,2453*2,2503*2,2553*2,2603*2,2653*2,2703*2,2753*2,
		2803*2,2853*2,2903*2,2953*2,3003*2,3053*2,3103*2,3153*2,
		3203*2,3252*2,3302*2,3352*2,3402*2,3452*2,3502*2,3552*2,
		3601*2,3651*2,3701*2,3751*2,3801*2,3850*2,3900*2,3950*2,
		4000*2,4049*2,4099*2,4149*2,4199*2,4248*2,4298*2,4348*2,
		4397*2,4447*2,4497*2,4546*2,4596*2,4646*2,4695*2,4745*2,
		4794*2,4844*2,4894*2,4943*2,4993*2,5042*2,5092*2,5141*2,
		5191*2,5240*2,5290*2,5339*2,5389*2,5438*2,5487*2,5537*2,
		5586*2,5636*2,5685*2,5734*2,5784*2,5833*2,5882*2,5932*2,
		5981*2,6030*2,6079*2,6129*2,6178*2,6227*2,6276*2,6325*2,
		6375*2,6424*2,6473*2,6522*2,6571*2,6620*2,6669*2,6718*2,
		6767*2,6817*2,6866*2,6915*2,6964*2,7012*2,7061*2,7110*2,
		7159*2,7208*2,7257*2,7306*2,7355*2,7404*2,7452*2,7501*2,
		7550*2,7599*2,7648*2,7696*2,7745*2,7794*2,7842*2,7891*2,
		7940*2,7988*2,8037*2,8085*2,8134*2,8182*2,8231*2,8280*2,
		8328*2,8376*2,8425*2,8473*2,8522*2,8570*2,8618*2,8667*2,
		8715*2,8763*2,8812*2,8860*2,8908*2,8956*2,9005*2,9053*2,
		9101*2,9149*2,9197*2,9245*2,9293*2,9341*2,9389*2,9437*2,
		9485*2,9533*2,9581*2,9629*2,9677*2,9725*2,9773*2,9821*2,
		9868*2,9916*2,9964*2,10012*2,10059*2,10107*2,10155*2,10202*2,
		10250*2,10298*2,10345*2,10393*2,10440*2,10488*2,10535*2,10583*2,
		10630*2,10677*2,10725*2,10772*2,10819*2,10867*2,10914*2,10961*2,
		11008*2,11056*2,11103*2,11150*2,11197*2,11244*2,11291*2,11338*2,
		11385*2,11432*2,11479*2,11526*2,11573*2,11620*2,11667*2,11713*2,
		11760*2,11807*2,11854*2,11900*2,11947*2,11994*2,12040*2,12087*2,
		12133*2,12180*2,12226*2,12273*2,12319*2,12366*2,12412*2,12459*2,
		12505*2,12551*2,12597*2,12644*2,12690*2,12736*2,12782*2,12828*2,
		12874*2,12920*2,12966*2,13012*2,13058*2,13104*2,13150*2,13196*2,
		13242*2,13288*2,13334*2,13379*2,13425*2,13471*2,13516*2,13562*2,
		13608*2,13653*2,13699*2,13744*2,13790*2,13835*2,13880*2,13926*2,
		13971*2,14016*2,14062*2,14107*2,14152*2,14197*2,14242*2,14288*2,
		14333*2,14378*2,14423*2,14468*2,14513*2,14557*2,14602*2,14647*2,
		14692*2,14737*2,14781*2,14826*2,14871*2,14915*2,14960*2,15004*2,
		15049*2,15093*2,15138*2,15182*2,15227*2,15271*2,15315*2,15360*2,
		15404*2,15448*2,15492*2,15536*2,15580*2,15624*2,15668*2,15712*2,
		15756*2,15800*2,15844*2,15888*2,15932*2,15975*2,16019*2,16063*2,
		16106*2,16150*2,16194*2,16237*2,16281*2,16324*2,16367*2,16411*2,
		16454*2,16497*2,16541*2,16584*2,16627*2,16670*2,16713*2,16756*2,
		16799*2,16842*2,16885*2,16928*2,16971*2,17014*2,17057*2,17099*2,
		17142*2,17185*2,17227*2,17270*2,17312*2,17355*2,17397*2,17440*2,
		17482*2,17524*2,17567*2,17609*2,17651*2,17693*2,17736*2,17778*2,
		17820*2,17862*2,17904*2,17945*2,17987*2,18029*2,18071*2,18113*2,
		18154*2,18196*2,18238*2,18279*2,18321*2,18362*2,18404*2,18445*2,
		18486*2,18528*2,18569*2,18610*2,18651*2,18693*2,18734*2,18775*2,
		18816*2,18857*2,18898*2,18939*2,18979*2,19020*2,19061*2,19102*2,
		19142*2,19183*2,19223*2,19264*2,19304*2,19345*2,19385*2,19425*2,
		19466*2,19506*2,19546*2,19586*2,19626*2,19667*2,19707*2,19746*2,
		19786*2,19826*2,19866*2,19906*2,19946*2,19985*2,20025*2,20064*2,
		20104*2,20144*2,20183*2,20222*2,20262*2,20301*2,20340*2,20379*2,
		20419*2,20458*2,20497*2,20536*2,20575*2,20614*2,20653*2,20691*2,
		20730*2,20769*2,20808*2,20846*2,20885*2,20923*2,20962*2,21000*2,
		21039*2,21077*2,21115*2,21153*2,21192*2,21230*2,21268*2,21306*2,
		21344*2,21382*2,21420*2,21458*2,21495*2,21533*2,21571*2,21608*2,
		21646*2,21683*2,21721*2,21758*2,21796*2,21833*2,21870*2,21908*2,
		21945*2,21982*2,22019*2,22056*2,22093*2,22130*2,22167*2,22203*2,
		22240*2,22277*2,22314*2,22350*2,22387*2,22423*2,22460*2,22496*2,
		22532*2,22569*2,22605*2,22641*2,22677*2,22713*2,22749*2,22785*2,
		22821*2,22857*2,22893*2,22928*2,22964*2,23000*2,23035*2,23071*2,
		23106*2,23142*2,23177*2,23212*2,23248*2,23283*2,23318*2,23353*2,
		23388*2,23423*2,23458*2,23493*2,23528*2,23563*2,23597*2,23632*2,
		23666*2,23701*2,23735*2,23770*2,23804*2,23839*2,23873*2,23907*2,
		23941*2,23975*2,24009*2,24043*2,24077*2,24111*2,24145*2,24179*2,
		24212*2,24246*2,24280*2,24313*2,24346*2,24380*2,24413*2,24447*2,
		24480*2,24513*2,24546*2,24579*2,24612*2,24645*2,24678*2,24711*2,
		24744*2,24776*2,24809*2,24842*2,24874*2,24907*2,24939*2,24971*2,
		25004*2,25036*2,25068*2,25100*2,25132*2,25164*2,25196*2,25228*2,
		25260*2,25292*2,25323*2,25355*2,25387*2,25418*2,25450*2,25481*2,
		25512*2,25544*2,25575*2,25606*2,25637*2,25668*2,25699*2,25730*2,
		25761*2,25792*2,25823*2,25853*2,25884*2,25915*2,25945*2,25975*2,
		26006*2,26036*2,26066*2,26097*2,26127*2,26157*2,26187*2,26217*2,
		26247*2,26277*2,26306*2,26336*2,26366*2,26395*2,26425*2,26454*2,
		26484*2,26513*2,26542*2,26571*2,26601*2,26630*2,26659*2,26688*2,
		26717*2,26745*2,26774*2,26803*2,26831*2,26860*2,26889*2,26917*2,
		26945*2,26974*2,27002*2,27030*2,27058*2,27086*2,27114*2,27142*2,
		27170*2,27198*2,27226*2,27254*2,27281*2,27309*2,27336*2,27364*2,
		27391*2,27418*2,27446*2,27473*2,27500*2,27527*2,27554*2,27581*2,
		27608*2,27634*2,27661*2,27688*2,27714*2,27741*2,27767*2,27794*2,
		27820*2,27846*2,27873*2,27899*2,27925*2,27951*2,27977*2,28003*2,
		28028*2,28054*2,28080*2,28105*2,28131*2,28156*2,28182*2,28207*2,
		28232*2,28258*2,28283*2,28308*2,28333*2,28358*2,28383*2,28407*2,
		28432*2,28457*2,28481*2,28506*2,28530*2,28555*2,28579*2,28604*2,
		28628*2,28652*2,28676*2,28700*2,28724*2,28748*2,28772*2,28795*2,
		28819*2,28843*2,28866*2,28890*2,28913*2,28936*2,28959*2,28983*2,
		29006*2,29029*2,29052*2,29075*2,29098*2,29120*2,29143*2,29166*2,
		29188*2,29211*2,29233*2,29256*2,29278*2,29300*2,29322*2,29344*2,
		29366*2,29388*2,29410*2,29432*2,29454*2,29475*2,29497*2,29519*2,
		29540*2,29561*2,29583*2,29604*2,29625*2,29646*2,29667*2,29688*2,
		29709*2,29730*2,29751*2,29772*2,29792*2,29813*2,29833*2,29854*2,
		29874*2,29894*2,29915*2,29935*2,29955*2,29975*2,29995*2,30015*2,
		30034*2,30054*2,30074*2,30093*2,30113*2,30132*2,30152*2,30171*2,
		30190*2,30209*2,30228*2,30247*2,30266*2,30285*2,30304*2,30323*2,
		30341*2,30360*2,30378*2,30397*2,30415*2,30433*2,30452*2,30470*2,
		30488*2,30506*2,30524*2,30542*2,30559*2,30577*2,30595*2,30612*2,
		30630*2,30647*2,30665*2,30682*2,30699*2,30716*2,30733*2,30750*2,
		30767*2,30784*2,30801*2,30818*2,30834*2,30851*2,30867*2,30884*2,
		30900*2,30916*2,30933*2,30949*2,30965*2,30981*2,30997*2,31012*2,
		31028*2,31044*2,31059*2,31075*2,31090*2,31106*2,31121*2,31136*2,
		31152*2,31167*2,31182*2,31197*2,31212*2,31226*2,31241*2,31256*2,
		31270*2,31285*2,31299*2,31314*2,31328*2,31342*2,31356*2,31370*2,
		31384*2,31398*2,31412*2,31426*2,31440*2,31453*2,31467*2,31480*2,
		31494*2,31507*2,31520*2,31534*2,31547*2,31560*2,31573*2,31586*2,
		31598*2,31611*2,31624*2,31636*2,31649*2,31661*2,31674*2,31686*2,
		31698*2,31710*2,31722*2,31734*2,31746*2,31758*2,31770*2,31782*2,
		31793*2,31805*2,31816*2,31828*2,31839*2,31850*2,31861*2,31872*2,
		31883*2,31894*2,31905*2,31916*2,31927*2,31937*2,31948*2,31959*2,
		31969*2,31979*2,31990*2,32000*2,32010*2,32020*2,32030*2,32040*2,
		32050*2,32059*2,32069*2,32079*2,32088*2,32098*2,32107*2,32116*2,
		32125*2,32135*2,32144*2,32153*2,32162*2,32170*2,32179*2,32188*2,
		32196*2,32205*2,32213*2,32222*2,32230*2,32238*2,32246*2,32255*2,
		32263*2,32270*2,32278*2,32286*2,32294*2,32301*2,32309*2,32316*2,
		32324*2,32331*2,32338*2,32346*2,32353*2,32360*2,32367*2,32373*2,
		32380*2,32387*2,32394*2,32400*2,32407*2,32413*2,32419*2,32426*2,
		32432*2,32438*2,32444*2,32450*2,32456*2,32461*2,32467*2,32473*2,
		32478*2,32484*2,32489*2,32495*2,32500*2,32505*2,32510*2,32515*2,
		32520*2,32525*2,32530*2,32535*2,32539*2,32544*2,32548*2,32553*2,
		32557*2,32561*2,32565*2,32570*2,32574*2,32578*2,32581*2,32585*2,
		32589*2,32593*2,32596*2,32600*2,32603*2,32606*2,32610*2,32613*2,
		32616*2,32619*2,32622*2,32625*2,32628*2,32630*2,32633*2,32636*2,
		32638*2,32641*2,32643*2,32645*2,32647*2,32649*2,32652*2,32653*2,
		32655*2,32657*2,32659*2,32661*2,32662*2,32664*2,32665*2,32666*2,
		32668*2,32669*2,32670*2,32671*2,32672*2,32673*2,32674*2,32674*2,
		32675*2,32676*2,32676*2,32677*2,32677*2,32677*2,32677*2,32677*2,
		65535
	};

	switch((a>>10)&3)
	{
		default:
		case 0: return table[a&1023];
		case 1: return table[1024-(a&1023)];
		case 2: return -table[a&1023];
		case 3: return -table[1024-(a&1023)];
	}
}

